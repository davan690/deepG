language: R
sudo: required
cache: packages

os: linux
dist: trusty

env:
  global:
    - HDF5_RELEASE_URL="https://support.hdfgroup.org/ftp/HDF5/releases"
    - LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/usr/local/lib

addons:
  apt:
    packages:
      - subversion
      - autoconf
      - build-essential
      - libtool
      - libmagick++-dev

env:
  global:
    - HDF5_RELEASE_URL="https://support.hdfgroup.org/ftp/HDF5/releases"
    - LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/usr/local/lib

before_install: 
  - chmod +x travis_setup.sh
  - ./travis_setup.sh

r_github_packages:
- jimhester/covr

after_success:
- R --slave --vanilla -e 'library(covr); pc <- package_coverage(); pc; codecov(coverage
  = pc)'

notifications:
  email: philipp.muench@helmholtz-hzi.de
